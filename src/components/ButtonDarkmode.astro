---

---
<div class="md:px-4" style="transition: padding 0.5s linear">
    <button class="w-[75px] h-10 bg-teal-950 dark:bg-yellow-400 p-[5px] rounded-full flex justify-between items-center relative gap-1 transition-colors duration-300" id="button-theme">

        <figure class="size-8 p-1 relative z-10" id="figure-moon">
            <svg 
                class="w-full h-full fill-teal-50" 
                xmlns="http://www.w3.org/2000/svg" 
                viewBox="0 0 24 24"
            >
                <path d="M12.022 22.971C5.944 22.971 1 18.039 1 11.978a10.954 10.954 0 0 1 9.968-10.944.98.98 0 0 1 1.015.604c.171.4.062.866-.269 1.149-1.094.938-1.626 2.56-1.626 4.957 0 5.128 2.364 6.158 6.179 6.158 2.462 0 4.04-.515 4.968-1.62a.999.999 0 0 1 1.76.737c-.535 5.673-5.253 9.951-10.973 9.951ZM8.78 3.576A8.95 8.95 0 0 0 3 11.977c0 4.959 4.048 8.993 9.022 8.993 3.832 0 7.115-2.345 8.421-5.74-1.416.579-2.961.673-4.177.673-3.511 0-8.179-.846-8.179-8.158 0-1.653.229-3.036.692-4.169Z"/>
            </svg>
        </figure>

        <figure class="size-8 p-1 relative z-10" id="figure-sun">
            <svg 
                class="fill-teal-50"
                xmlns="http://www.w3.org/2000/svg" 
                viewBox="0 0 24 24" 
            >
                <path d="M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5Zm0-8c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3Zm1-5V1c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1s1-.45 1-1Zm0 19v-3c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1s1-.45 1-1ZM5 12c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1Zm19 0c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1ZM6.71 6.71a.996.996 0 0 0 0-1.41l-2-2A.996.996 0 1 0 3.3 4.71l2 2c.2.2.45.29.71.29s.51-.1.71-.29Zm14 14a.996.996 0 0 0 0-1.41l-2-2a.996.996 0 1 0-1.41 1.41l2 2c.2.2.45.29.71.29s.51-.1.71-.29Zm-16 0 2-2A.996.996 0 1 0 5.3 17.3l-2 2a.996.996 0 0 0 .71 1.7c.26 0 .51-.1.71-.29Zm14-14 2-2A.996.996 0 1 0 19.3 3.3l-2 2a.996.996 0 0 0 .71 1.7c.26 0 .51-.1.71-.29Z"/>
            </svg>
        </figure>

        <div class="absolute size-8 right-1 rounded-full bg-teal-50 button-circle" style="transition: right 0.5s;"></div>

    </button>
</div>

<style>

    .button-circle.active {
        right: calc(100% - 2.25rem);
    }
</style>

<script>

    const buttonDarkmode = document.querySelector('#button-theme') as HTMLButtonElement;
    const buttonCircle = document.querySelector('.button-circle') as HTMLDivElement;

    const toggleDarkMode = (): void => {
        const html = document.documentElement;
        const isDark = html.classList.toggle("dark"); // Alterna la clase 'dark'
        localStorage.setItem("theme", isDark ? "dark" : "light"); // Guarda la preferencia en localStorage
        buttonCircle.classList.toggle("active");
    }
    const loadTheme = (): void => {
        const storedTheme = localStorage.getItem("theme");
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

        if (storedTheme === "dark" || (!storedTheme && prefersDark)) {
            document.documentElement.classList.add("dark"); // Aplica modo oscuro
            buttonCircle.classList.add("active");
        } else {
            document.documentElement.classList.remove("dark"); // Aplica modo claro
        }
    };

    document.addEventListener('DOMContentLoaded', loadTheme);
    buttonDarkmode.addEventListener('click', toggleDarkMode);
</script>